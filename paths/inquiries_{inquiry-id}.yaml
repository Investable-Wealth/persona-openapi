delete:
  description: >-
    Permanently deletes personally identifiable information (PII) for an Inquiry
    and all associated Verifications and Reports. This action cannot be undone. 


    This endpoint can be used to comply with privacy regulations such as GDPR /
    CCPA or to enforce data privacy.
  operationId: redact-an-inquiry
  parameters:
    - $ref: ../components/parameters/keyInflectionHeader.yaml
    - $ref: ../components/parameters/idempotencyKeyHeader.yaml
    - $ref: ../components/parameters/personaVersionHeader.yaml
    - name: inquiry-id
      in: path
      required: true
      schema:
        type: string
  responses:
    '200':
      content:
        application/json:
          examples:
            Result:
              summary: OK
              value:
                data:
                  type: inquiry
                  id: inq_zEx4jL84ShbUyuwX6AzPSqt6
                  attributes:
                    status: approved
                    subject: null
                    reference-id: null
                    created-at: '2019-11-15T05:27:24.000Z'
                    completed-at: '2019-11-15T05:28:02.000Z'
                    expired-at: null
                  relationships:
                    account:
                      data:
                        type: account
                        id: act_n2uq9eKMboaCQzu9ALWYcVdN
                    template:
                      data: null
                    inquiry-template:
                      data:
                        type: inquiry-template
                        id: itmpl_p8ANAJy9iqadm2buF2xcVgqH
                    inquiry-template-version:
                      data:
                        type: inquiry-template-version
                        id: itmplv_iXhqfNWqwYLAWs9G8Fm8hPfo
                    reports:
                      data: []
                    verifications:
                      data:
                        - type: verification/database
                          id: ver_uHDiwtcx3htjajvEaeMjPQcE
          schema:
            properties:
              data:
                $ref: ../components/schemas/Inquiry.yaml
            type: object
      description: OK
    '400':
      $ref: ../components/responses/BadRequest.yaml
    '404':
      $ref: ../components/responses/NotFound.yaml
  summary: Redact an Inquiry
  tags:
    - Inquiries
get:
  description: >-
    Retrieves the details of an inquiry that has previously been created.


    In the [Embedded Flow](doc:embedded-flow), the `inquiry-id` is the first
    parameter of the onStart callback. In the [Hosted Flow](doc:hosted-flow),
    the `inquiry-id` is a query parameter in the onComplete callback.


    Template information will be found in `data.relationships.inquiry-template`
    if the inquiry is a Dynamic Flow inquiry, and in
    `data.relationships.template` if the inquiry is a Legacy 2.0 inquiry. For
    more information, see [Dynamic Flow vs. Legacy
    Templates](doc:inquiry-templates#dynamic-flow-vs-legacy-templates).
  operationId: retrieve-an-inquiry
  parameters:
    - $ref: ../components/parameters/keyInflectionHeader.yaml
    - $ref: ../components/parameters/idempotencyKeyHeader.yaml
    - $ref: ../components/parameters/personaVersionHeader.yaml
    - name: inquiry-id
      in: path
      required: true
      schema:
        type: string
  responses:
    '200':
      content:
        application/json:
          examples:
            Result:
              summary: OK
              value:
                data:
                  type: inquiry
                  id: inq_zEx4jL84ShbUyuwX6AzPSqt6
                  attributes:
                    status: completed
                    reference-id: null
                    behaviours:
                      request-spoof-attempts: 0
                      user-agent-spoof-attempts: 0
                      distraction-events: 0
                      hesitation-baseline: 19860
                      hesitation-count: 1
                      hesitation-time: 12975
                      shortcut-copies: 0
                      shortcut-pastes: 0
                      autofill-cancels: 29
                      autofill-starts: 0
                      devtools-open: false
                      completion-time: 28.62633237
                      hesitation-percentage: 65.33232628398792
                      behavior-threat-level: low
                    tags:
                      - XYZ_CAMPAIGN
                    creator: API
                    reviewer-comment: null
                    created-at: '2019-11-15T05:27:24.000Z'
                    started-at: '2019-11-15T05:27:46.000Z'
                    completed-at: '2019-11-15T05:28:02.000Z'
                    failed-at: null
                    marked-for-review-at: null
                    decisioned-at: null
                    expired-at: null
                    redacted-at: null
                    previous-step-name: database_collection_form
                    next-step-name: success
                    fields:
                      name-first:
                        type: string
                        value: John
                      name-last:
                        type: string
                        value: Doe
                  relationships:
                    account:
                      data:
                        type: account
                        id: act_n2uq9eKMboaCQzu9ALWYcVdN
                    template:
                      data: null
                    inquiry-template:
                      data:
                        type: inquiry-template
                        id: itmpl_p8ANAJy9iqadm2buF2xcVgqH
                    inquiry-template-version:
                      data:
                        type: inquiry-template-version
                        id: itmplv_iXhqfNWqwYLAWs9G8Fm8hPfo
                    reports:
                      data: []
                    verifications:
                      data:
                        - type: verification/basic
                          id: ver_uHDiwtcx3htjajvEaeMjPQcE
                    sessions:
                      data:
                        - type: session
                          id: iqse_ov4ftVuCYm8U7rNkZADFpiBg
                included:
                  - type: verification/database
                    id: ver_uHDiwtcx3htjajvEaeMjPQcE
                    attributes:
                      status: passed
                      created-at: '2019-11-15T05:27:59.000Z'
                      completed-at: '2019-11-15T05:28:02.000Z'
                      country-code: US
                      name-first: Rickilus
                      name-middle: null
                      name-last: Smith
                      address-street-1: 1234 St
                      address-street-2: null
                      address-city: San Francisco
                      address-subdivision: California
                      address-postal-code: '94000'
                      birthdate: '1990-01-01'
                  - type: inquiry-session
                    id: iqse_ueCQP8wmydueLgbsgSVCzt3J
                    attributes:
                      status: active
                      created-at: '2019-11-15T05:27:59.000Z'
                      ip-address: 2603:9000:8507:1f2e:d23:b50d:a31e:ce30
                      browser-name: Mobile Safari
                      browser-full-version: 13.0.4
                      os-name: iOS
                      os-full-version: '13.3'
                      device-name: iPhone
                      device-type: smartphone
                    relationships:
                      inquiry:
                        data:
                          type: inquiry
                          id: inq_rfWJxnYSa725XAQswNwpLubP
                  - type: inquiry-template
                    id: itmpl_p8ANAJy9iqadm2buF2xcVgqH
                    attributes:
                      status: active
                      name: Twilio Desktop
                    relationships:
                      latest-published-version:
                        data:
                          type: inquiry-template-version
                          id: itmplv_iXhqfNWqwYLAWs9G8Fm8hPfo
          schema:
            properties:
              data:
                $ref: ../components/schemas/Inquiry.yaml
              included:
                items:
                  properties:
                    attributes:
                      properties:
                        address-city:
                          examples:
                            - San Francisco
                          type: string
                        address-postal-code:
                          examples:
                            - '94000'
                          type: string
                        address-street-1:
                          examples:
                            - 1234 St
                          type: string
                        address-street-2: {}
                        address-subdivision:
                          examples:
                            - California
                          type: string
                        birthdate:
                          examples:
                            - '1990-01-01'
                          type: string
                        completed-at:
                          examples:
                            - '2019-11-15T05:28:02.000Z'
                          type: string
                        country-code:
                          examples:
                            - US
                          type: string
                        created-at:
                          examples:
                            - '2019-11-15T05:27:59.000Z'
                          type: string
                        name-first:
                          examples:
                            - Rickilus
                          type: string
                        name-last:
                          examples:
                            - Smith
                          type: string
                        name-middle: {}
                        status:
                          examples:
                            - passed
                          type: string
                      type: object
                    id:
                      examples:
                        - ver_uHDiwtcx3htjajvEaeMjPQcE
                      type: string
                    type:
                      examples:
                        - verification/database
                      type: string
                  type: object
                type: array
            type: object
      description: OK
    '400':
      $ref: ../components/responses/BadRequest.yaml
    '404':
      $ref: ../components/responses/NotFound.yaml
  summary: Retrieve an Inquiry
  tags:
    - Inquiries
patch:
  description: Updates an existing inquiry.
  operationId: update-an-inquiry
  parameters:
    - $ref: ../components/parameters/keyInflectionHeader.yaml
    - $ref: ../components/parameters/idempotencyKeyHeader.yaml
    - $ref: ../components/parameters/personaVersionHeader.yaml
    - name: inquiry-id
      in: path
      required: true
      schema:
        type: string
  requestBody:
    content:
      application/json:
        schema:
          properties:
            data:
              properties:
                attributes:
                  properties:
                    address-city:
                      type: string
                    address-postal-code:
                      type: string
                    address-street-1:
                      type: string
                    address-street-2:
                      type: string
                    address-subdivision:
                      type: string
                    birthdate:
                      description: 'Use the following format: YYYY-MM-DD'
                      type: string
                    email-address:
                      type: string
                    identification-number:
                      default: '1231231234'
                      description: Identification numbers, i.e. SSN
                      type: string
                    locale:
                      type: string
                    name-first:
                      type: string
                    name-last:
                      type: string
                    name-middle:
                      type: string
                    note:
                      type: string
                    phone-number:
                      type: string
                    selected-country-code:
                      type: string
                  type: object
              type: object
          required:
            - data
          type: object
  responses:
    '200':
      content:
        application/json:
          examples:
            Result:
              summary: OK
              value:
                data:
                  type: inquiry
                  id: inq_zEx4jL84ShbUyuwX6AzPSqt6
                  attributes:
                    status: completed
                    subject: null
                    reference-id: null
                    created-at: '2019-11-15T05:27:24.000Z'
                    completed-at: '2019-11-15T05:28:02.000Z'
                    identification-number: '1231231234'
                  relationships:
                    account:
                      data:
                        type: account
                        id: act_n2uq9eKMboaCQzu9ALWYcVdN
                    template:
                      data: null
                    inquiry-template:
                      data:
                        type: inquiry-template
                        id: itmpl_p8ANAJy9iqadm2buF2xcVgqH
                    inquiry-template-version:
                      data:
                        type: inquiry-template-version
                        id: itmplv_iXhqfNWqwYLAWs9G8Fm8hPfo
                    reports:
                      data: []
                    verifications:
                      data:
                        - type: verification/database
                          id: ver_uHDiwtcx3htjajvEaeMjPQcE
          schema:
            properties:
              data:
                $ref: ../components/schemas/Inquiry.yaml
            type: object
      description: OK
    '400':
      $ref: ../components/responses/BadRequest.yaml
    '404':
      $ref: ../components/responses/NotFound.yaml
  summary: Update an Inquiry
  tags:
    - Inquiries
